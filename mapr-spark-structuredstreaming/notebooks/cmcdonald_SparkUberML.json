{"paragraphs":[{"title":"Import needed packages","text":"\nimport org.apache.spark.sql.functions._\nimport org.apache.spark.sql.types._\nimport org.apache.spark.sql._\nimport org.apache.spark.ml.clustering._\nimport org.apache.spark.ml._\nimport org.apache.spark.ml.feature._\nimport org.apache.spark.ml.evaluation._\nimport org.apache.spark.ml.tuning._","user":"mapr","dateUpdated":"2018-10-29T16:55:59+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","title":true,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"fontSize":9,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import org.apache.spark.sql.functions._\nimport org.apache.spark.sql.types._\nimport org.apache.spark.sql._\nimport org.apache.spark.ml.clustering._\nimport org.apache.spark.ml._\nimport org.apache.spark.ml.feature._\nimport org.apache.spark.ml.evaluation._\nimport org.apache.spark.ml.tuning._\n"}]},"apps":[],"jobName":"paragraph_1540243001288_1628729753","id":"20161030-025214_1655763979","dateCreated":"2018-10-22T21:16:41+0000","dateStarted":"2018-10-29T16:56:00+0000","dateFinished":"2018-10-29T16:56:02+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:69013"},{"title":"Define Schema for csv file data","text":"\ncase class Uber(dt: java.sql.Timestamp, lat: Double, lon: Double, base: String) extends Serializable\n\nval schema = StructType(Array(\n      StructField(\"dt\", TimestampType, true),\n      StructField(\"lat\", DoubleType, true),\n      StructField(\"lon\", DoubleType, true),\n      StructField(\"base\", StringType, true)\n))","user":"mapr","dateUpdated":"2018-10-29T16:56:04+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","title":true,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"fontSize":9,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"defined class Uber\nschema: org.apache.spark.sql.types.StructType = StructType(StructField(dt,TimestampType,true), StructField(lat,DoubleType,true), StructField(lon,DoubleType,true), StructField(base,StringType,true))\n"}]},"apps":[],"jobName":"paragraph_1540243001294_32034189","id":"20161030-030543_519944270","dateCreated":"2018-10-22T21:16:41+0000","dateStarted":"2018-10-29T16:56:04+0000","dateFinished":"2018-10-29T16:56:05+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69014"},{"title":"Read the data from CSV file into a Dataset of type Uber","text":"\nimport spark.implicits._\n\n var file =\"maprfs:///user/mapr/data/uber.csv\"\n\n val df: Dataset[Uber] = spark.read.format(\"csv\").option(\"inferSchema\", \"false\").schema(schema).load(file).as[Uber]\n\n\ndf.cache\ndf.count\n","user":"mapr","dateUpdated":"2018-10-29T16:56:09+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","title":true,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"fontSize":9,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import spark.implicits._\nfile: String = maprfs:///user/mapr/data/uber.csv\ndf: org.apache.spark.sql.Dataset[Uber] = [dt: timestamp, lat: double ... 2 more fields]\nres37: df.type = [dt: timestamp, lat: double ... 2 more fields]\nres38: Long = 357474\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1540243001296_1415559066","id":"20161030-030618_394385178","dateCreated":"2018-10-22T21:16:41+0000","dateStarted":"2018-10-29T16:56:09+0000","dateFinished":"2018-10-29T16:56:19+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69015"},{"title":"Show the first 20 rows","text":"df.show","user":"mapr","dateUpdated":"2018-10-29T16:56:14+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+-------------------+-------+--------+------+\n|                 dt|    lat|     lon|  base|\n+-------------------+-------+--------+------+\n|2014-08-18 08:36:00|40.7556|-73.9946|B02764|\n|2014-08-18 08:37:00|40.7454|-73.9887|B02598|\n|2014-08-18 08:37:00|40.7197|-73.9999|B02598|\n|2014-08-18 08:37:00|40.7706|-73.8653|B02598|\n|2014-08-18 08:37:00|40.7767|-73.9767|B02617|\n|2014-08-18 08:37:00|40.7371|-74.0038|B02617|\n|2014-08-18 08:37:00|40.7708|-73.8656|B02617|\n|2014-08-18 08:37:00|40.7673|-73.9845|B02617|\n|2014-08-18 08:37:00|40.7442|-73.9837|B02617|\n|2014-08-18 08:37:00|40.7395|-73.9807|B02617|\n|2014-08-18 08:37:00|40.6909|-74.1782|B02617|\n|2014-08-18 08:37:00|40.7678|-73.9915|B02617|\n|2014-08-18 08:37:00|40.7446| -73.976|B02617|\n|2014-08-18 08:37:00|40.7095|-73.9517|B02617|\n|2014-08-18 08:37:00|40.6875|-73.9721|B02682|\n|2014-08-18 08:37:00| 40.735|-73.9773|B02682|\n|2014-08-18 08:37:00|40.7598|-73.9897|B02764|\n|2014-08-18 08:37:00|40.7307|-74.0089|B02764|\n|2014-08-18 08:37:00|40.7307|-74.0089|B02764|\n|2014-08-18 08:38:00|40.7195|-73.9886|B02512|\n+-------------------+-------+--------+------+\nonly showing top 20 rows\n\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1540312377718_-840097917","id":"20181023-163257_411377126","dateCreated":"2018-10-23T16:32:57+0000","dateStarted":"2018-10-29T16:56:14+0000","dateFinished":"2018-10-29T16:56:20+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69016"},{"title":"Print Schema","text":"df.printSchema","user":"mapr","dateUpdated":"2018-10-29T16:56:19+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"fontSize":9,"title":true,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"root\n |-- dt: timestamp (nullable = true)\n |-- lat: double (nullable = true)\n |-- lon: double (nullable = true)\n |-- base: string (nullable = true)\n\n"}]},"apps":[],"jobName":"paragraph_1540243001298_1469421762","id":"20161030-030707_2084899217","dateCreated":"2018-10-22T21:16:41+0000","dateStarted":"2018-10-29T16:56:20+0000","dateFinished":"2018-10-29T16:56:21+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69017"},{"title":"Define Features Array","text":"\nval featureCols = Array(\"lat\", \"lon\")\nval assembler = new VectorAssembler().setInputCols(featureCols).setOutputCol(\"features\")\nval df2 = assembler.transform(df)\ndf2.show","user":"mapr","dateUpdated":"2018-10-29T16:56:24+0000","config":{"tableHide":false,"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","title":true,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"fontSize":9,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"featureCols: Array[String] = Array(lat, lon)\nassembler: org.apache.spark.ml.feature.VectorAssembler = vecAssembler_0970f0bb6aea\ndf2: org.apache.spark.sql.DataFrame = [dt: timestamp, lat: double ... 3 more fields]\n+-------------------+-------+--------+------+------------------+\n|                 dt|    lat|     lon|  base|          features|\n+-------------------+-------+--------+------+------------------+\n|2014-08-18 08:36:00|40.7556|-73.9946|B02764|[40.7556,-73.9946]|\n|2014-08-18 08:37:00|40.7454|-73.9887|B02598|[40.7454,-73.9887]|\n|2014-08-18 08:37:00|40.7197|-73.9999|B02598|[40.7197,-73.9999]|\n|2014-08-18 08:37:00|40.7706|-73.8653|B02598|[40.7706,-73.8653]|\n|2014-08-18 08:37:00|40.7767|-73.9767|B02617|[40.7767,-73.9767]|\n|2014-08-18 08:37:00|40.7371|-74.0038|B02617|[40.7371,-74.0038]|\n|2014-08-18 08:37:00|40.7708|-73.8656|B02617|[40.7708,-73.8656]|\n|2014-08-18 08:37:00|40.7673|-73.9845|B02617|[40.7673,-73.9845]|\n|2014-08-18 08:37:00|40.7442|-73.9837|B02617|[40.7442,-73.9837]|\n|2014-08-18 08:37:00|40.7395|-73.9807|B02617|[40.7395,-73.9807]|\n|2014-08-18 08:37:00|40.6909|-74.1782|B02617|[40.6909,-74.1782]|\n|2014-08-18 08:37:00|40.7678|-73.9915|B02617|[40.7678,-73.9915]|\n|2014-08-18 08:37:00|40.7446| -73.976|B02617| [40.7446,-73.976]|\n|2014-08-18 08:37:00|40.7095|-73.9517|B02617|[40.7095,-73.9517]|\n|2014-08-18 08:37:00|40.6875|-73.9721|B02682|[40.6875,-73.9721]|\n|2014-08-18 08:37:00| 40.735|-73.9773|B02682| [40.735,-73.9773]|\n|2014-08-18 08:37:00|40.7598|-73.9897|B02764|[40.7598,-73.9897]|\n|2014-08-18 08:37:00|40.7307|-74.0089|B02764|[40.7307,-74.0089]|\n|2014-08-18 08:37:00|40.7307|-74.0089|B02764|[40.7307,-74.0089]|\n|2014-08-18 08:38:00|40.7195|-73.9886|B02512|[40.7195,-73.9886]|\n+-------------------+-------+--------+------+------------------+\nonly showing top 20 rows\n\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1540243001299_-590149998","id":"20161030-041240_922666463","dateCreated":"2018-10-22T21:16:41+0000","dateStarted":"2018-10-29T16:56:24+0000","dateFinished":"2018-10-29T16:56:26+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69018"},{"title":"Create KMeans Estimator","text":"val kmeans = new KMeans().setK(20).setFeaturesCol(\"features\").setPredictionCol(\"cid\").setMaxIter(200)","user":"mapr","dateUpdated":"2018-10-29T16:56:29+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","title":true,"results":{},"enabled":true,"fontSize":9,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"kmeans: org.apache.spark.ml.clustering.KMeans = kmeans_17e035be5755\n"}]},"apps":[],"jobName":"paragraph_1540243001301_1638074156","id":"20170710-141916_128183205","dateCreated":"2018-10-22T21:16:41+0000","dateStarted":"2018-10-29T16:56:29+0000","dateFinished":"2018-10-29T16:56:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69019"},{"title":"Fit the model to the Training data ","text":"\nval model = kmeans.fit(df2)\n","user":"mapr","dateUpdated":"2018-10-29T16:56:33+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","title":true,"results":{},"enabled":true,"fontSize":9,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"model: org.apache.spark.ml.clustering.KMeansModel = kmeans_17e035be5755\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1540243001303_1594543711","id":"20170710-143129_239931631","dateCreated":"2018-10-22T21:16:41+0000","dateStarted":"2018-10-29T16:56:33+0000","dateFinished":"2018-10-29T16:56:42+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69020"},{"title":"Get Cluster groupings for Evaluation","text":"val clusters = model.transform(df2)  \n// val clusters = model.summary.predictions\n clusters.show\n clusters.createOrReplaceTempView(\"uber\")\n","user":"mapr","dateUpdated":"2018-10-29T17:03:30+0000","config":{"tableHide":false,"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","editorHide":false,"title":true,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"fontSize":9},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"clusters: org.apache.spark.sql.DataFrame = [dt: timestamp, lat: double ... 4 more fields]\n+-------------------+-------+--------+------+------------------+---+\n|                 dt|    lat|     lon|  base|          features|cid|\n+-------------------+-------+--------+------+------------------+---+\n|2014-08-18 08:36:00|40.7556|-73.9946|B02764|[40.7556,-73.9946]|  5|\n|2014-08-18 08:37:00|40.7454|-73.9887|B02598|[40.7454,-73.9887]|  6|\n|2014-08-18 08:37:00|40.7197|-73.9999|B02598|[40.7197,-73.9999]|  0|\n|2014-08-18 08:37:00|40.7706|-73.8653|B02598|[40.7706,-73.8653]|  3|\n|2014-08-18 08:37:00|40.7767|-73.9767|B02617|[40.7767,-73.9767]|  5|\n|2014-08-18 08:37:00|40.7371|-74.0038|B02617|[40.7371,-74.0038]|  6|\n|2014-08-18 08:37:00|40.7708|-73.8656|B02617|[40.7708,-73.8656]|  3|\n|2014-08-18 08:37:00|40.7673|-73.9845|B02617|[40.7673,-73.9845]|  5|\n|2014-08-18 08:37:00|40.7442|-73.9837|B02617|[40.7442,-73.9837]|  6|\n|2014-08-18 08:37:00|40.7395|-73.9807|B02617|[40.7395,-73.9807]|  6|\n|2014-08-18 08:37:00|40.6909|-74.1782|B02617|[40.6909,-74.1782]| 18|\n|2014-08-18 08:37:00|40.7678|-73.9915|B02617|[40.7678,-73.9915]|  5|\n|2014-08-18 08:37:00|40.7446| -73.976|B02617| [40.7446,-73.976]|  5|\n|2014-08-18 08:37:00|40.7095|-73.9517|B02617|[40.7095,-73.9517]| 17|\n|2014-08-18 08:37:00|40.6875|-73.9721|B02682|[40.6875,-73.9721]| 13|\n|2014-08-18 08:37:00| 40.735|-73.9773|B02682| [40.735,-73.9773]|  6|\n|2014-08-18 08:37:00|40.7598|-73.9897|B02764|[40.7598,-73.9897]|  5|\n|2014-08-18 08:37:00|40.7307|-74.0089|B02764|[40.7307,-74.0089]|  0|\n|2014-08-18 08:37:00|40.7307|-74.0089|B02764|[40.7307,-74.0089]|  0|\n|2014-08-18 08:38:00|40.7195|-73.9886|B02512|[40.7195,-73.9886]|  0|\n+-------------------+-------+--------+------+------------------+---+\nonly showing top 20 rows\n\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1540243001312_-1887953197","id":"20161030-080908_381831760","dateCreated":"2018-10-22T21:16:41+0000","dateStarted":"2018-10-29T17:03:30+0000","dateFinished":"2018-10-29T17:03:32+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69021"},{"text":"%sql\n\nSELECT * from uber limit 5\n","user":"mapr","dateUpdated":"2018-10-29T17:03:51+0000","config":{"colWidth":12,"editorMode":"ace/mode/sql","results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{},"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"dt":"string","lat":"string","lon":"string","base":"string","features":"string","cid":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}],"enabled":true,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"fontSize":9,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"dt\tlat\tlon\tbase\tfeatures\tcid\n2014-08-18 08:36:00.0\t40.7556\t-73.9946\tB02764\t[40.7556,-73.9946]\t5\n2014-08-18 08:37:00.0\t40.7454\t-73.9887\tB02598\t[40.7454,-73.9887]\t6\n2014-08-18 08:37:00.0\t40.7197\t-73.9999\tB02598\t[40.7197,-73.9999]\t0\n2014-08-18 08:37:00.0\t40.7706\t-73.8653\tB02598\t[40.7706,-73.8653]\t3\n2014-08-18 08:37:00.0\t40.7767\t-73.9767\tB02617\t[40.7767,-73.9767]\t5\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1540243001321_-1189848060","id":"20161031-010009_1770812714","dateCreated":"2018-10-22T21:16:41+0000","dateStarted":"2018-10-29T17:03:51+0000","dateFinished":"2018-10-29T17:03:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69022"},{"text":"println(\"Final Centers: \")\nmodel.clusterCenters.foreach(println)","user":"mapr","dateUpdated":"2018-10-29T17:04:13+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/scala","editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Final Centers: \n[40.718921849974365,-74.00490159401888]\n[40.8610796301731,-73.90554857646023]\n[40.76039386666665,-73.46966613333332]\n[40.759424009301696,-73.86168843135333]\n[40.62595994615613,-73.97991474723302]\n[40.760445904971284,-73.98056761384093]\n[40.73831444313262,-73.99307166127669]\n[40.687537560478695,-73.9296368220016]\n[40.17341304347826,-74.04630559006209]\n[41.00501994301994,-73.76936239316241]\n[40.64975699907317,-73.78446796450795]\n[40.802719736199194,-73.95815917928675]\n[40.745914507772014,-73.66162357512955]\n[40.68250103990326,-73.98149835550159]\n[40.660174766355134,-74.39607476635511]\n[40.799158585858585,-73.09681717171716]\n[40.76948423304467,-73.94946381259255]\n[40.718272100336435,-73.95378002047677]\n[40.69810819672119,-74.18120871440901]\n[40.92297466666666,-74.11527413333333]\n"}]},"apps":[],"jobName":"paragraph_1540324350331_1596737838","id":"20181023-195230_1356964936","dateCreated":"2018-10-23T19:52:30+0000","dateStarted":"2018-10-29T17:04:13+0000","dateFinished":"2018-10-29T17:04:14+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69023"},{"text":"%angular\n<div id=\"map\" style=\"height:500px;width:100%;\"></div>\n<script type=\"text/javascript\">\n\nfunction initMap() {\n       var centroids = [\n[40.718921849974365,-74.00490159401888],\n[40.8610796301731,-73.90554857646023],\n[40.76039386666665,-73.46966613333332],\n[40.759424009301696,-73.86168843135333],\n[40.62595994615613,-73.97991474723302],\n[40.760445904971284,-73.98056761384093],\n[40.73831444313262,-73.99307166127669],\n[40.687537560478695,-73.9296368220016],\n[40.17341304347826,-74.04630559006209],\n[41.00501994301994,-73.76936239316241],\n[40.64975699907317,-73.78446796450795],\n[40.802719736199194,-73.95815917928675],\n[40.745914507772014,-73.66162357512955],\n[40.68250103990326,-73.98149835550159],\n[40.660174766355134,-74.39607476635511],\n[40.799158585858585,-73.09681717171716],\n[40.76948423304467,-73.94946381259255],\n[40.718272100336435,-73.95378002047677],\n[40.69810819672119,-74.18120871440901],\n[40.92297466666666,-74.11527413333333]\n];\n     var POIs = {};\n    var NYC = {lat: 40.76664545866995, lng: -73.971943532955};\n    var map = new google.maps.Map(document.getElementById('map'), {zoom: 11, center: NYC });\n    //  Draw circles for each Centroid\nvar i;\nfor (i = 0; i < centroids.length; i++) { \n    var c = centroids[i];\n    var pos = {lat: parseFloat(c[0]), lng: parseFloat(c[1]) }\n    addMarker(pos, i, map);\n}\n  \n}\n\nfunction addMarker(location,i, map) {\n  // Add the marker at the clicked location, and add the next-available label\n  // from the array of alphabetical characters.\n  var marker = new google.maps.Marker({\n    position: location,\n    label: String(i),\n    map: map\n  });\n}\n\n//Only load GMaps once\nif (typeof google === 'object' && typeof google.maps === 'object') initMap();\nelse {\n    var script = document.createElement(\"script\");\n    script.type = \"text/javascript\";\n    //Replace with your API key\n    var apiKey = 'AIzaSyBbKXTPdUuKimkq5ONrChpNuxnI5SMhMUI';\n    script.src = \"https://maps.googleapis.com/maps/api/js?key=\"+apiKey+\"&libraries=visualization&callback=initMap\";\n    document.body.appendChild(script);\n}\n</script>\n","user":"mapr","dateUpdated":"2018-10-29T17:04:47+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"scala","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/undefined","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"ANGULAR","data":"<div id=\"map\" style=\"height:500px;width:100%;\"></div>\n<script type=\"text/javascript\">\n\nfunction initMap() {\n       var centroids = [\n[40.718921849974365,-74.00490159401888],\n[40.8610796301731,-73.90554857646023],\n[40.76039386666665,-73.46966613333332],\n[40.759424009301696,-73.86168843135333],\n[40.62595994615613,-73.97991474723302],\n[40.760445904971284,-73.98056761384093],\n[40.73831444313262,-73.99307166127669],\n[40.687537560478695,-73.9296368220016],\n[40.17341304347826,-74.04630559006209],\n[41.00501994301994,-73.76936239316241],\n[40.64975699907317,-73.78446796450795],\n[40.802719736199194,-73.95815917928675],\n[40.745914507772014,-73.66162357512955],\n[40.68250103990326,-73.98149835550159],\n[40.660174766355134,-74.39607476635511],\n[40.799158585858585,-73.09681717171716],\n[40.76948423304467,-73.94946381259255],\n[40.718272100336435,-73.95378002047677],\n[40.69810819672119,-74.18120871440901],\n[40.92297466666666,-74.11527413333333]\n];\n     var POIs = {};\n    var NYC = {lat: 40.76664545866995, lng: -73.971943532955};\n    var map = new google.maps.Map(document.getElementById('map'), {zoom: 11, center: NYC });\n    //  Draw circles for each Centroid\nvar i;\nfor (i = 0; i < centroids.length; i++) { \n    var c = centroids[i];\n    var pos = {lat: parseFloat(c[0]), lng: parseFloat(c[1]) }\n    addMarker(pos, i, map);\n}\n  \n}\n\nfunction addMarker(location,i, map) {\n  // Add the marker at the clicked location, and add the next-available label\n  // from the array of alphabetical characters.\n  var marker = new google.maps.Marker({\n    position: location,\n    label: String(i),\n    map: map\n  });\n}\n\n//Only load GMaps once\nif (typeof google === 'object' && typeof google.maps === 'object') initMap();\nelse {\n    var script = document.createElement(\"script\");\n    script.type = \"text/javascript\";\n    //Replace with your API key\n    var apiKey = 'AIzaSyBbKXTPdUuKimkq5ONrChpNuxnI5SMhMUI';\n    script.src = \"https://maps.googleapis.com/maps/api/js?key=\"+apiKey+\"&libraries=visualization&callback=initMap\";\n    document.body.appendChild(script);\n}\n</script>"}]},"apps":[],"jobName":"paragraph_1540329635142_-1376272800","id":"20181023-212035_1300168457","dateCreated":"2018-10-23T21:20:35+0000","dateStarted":"2018-10-29T17:04:47+0000","dateFinished":"2018-10-29T17:04:47+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69024"},{"title":"How many pickups occurred in each cluster?","text":"clusters.groupBy(\"cid\").count().orderBy(desc( \"count\")).show(10)","user":"mapr","dateUpdated":"2018-10-29T17:05:09+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","title":true,"results":{},"enabled":true,"fontSize":9,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+---+-----+\n|cid|count|\n+---+-----+\n|  6|83505|\n|  5|79472|\n|  0|56241|\n| 16|26933|\n| 13|23581|\n| 17|19555|\n|  3|14873|\n| 11|14663|\n|  7|11132|\n| 10|10759|\n+---+-----+\nonly showing top 10 rows\n\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1540243001314_-193544650","id":"20170710-160950_712231335","dateCreated":"2018-10-22T21:16:41+0000","dateStarted":"2018-10-29T17:05:09+0000","dateFinished":"2018-10-29T17:05:10+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69025"},{"title":"How many pickups occurred in each cluster?","text":"%sql\nSELECT COUNT(cid), cid\nFROM uber\nGROUP BY cid\nORDER BY COUNT(cid) DESC\n","user":"mapr","dateUpdated":"2018-10-30T16:14:09+0000","config":{"colWidth":12,"editorMode":"ace/mode/sql","results":[{"helium":{},"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"keys":[{"name":"cid","index":1,"aggr":"sum"}],"values":[{"name":"count(cid)","index":0,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"hr","index":0,"aggr":"sum"}},"setting":{"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"},"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"count(cid)":"string","cid":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"stackedAreaChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{}}}],"enabled":true,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"fontSize":9,"editorHide":false,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"count(cid)\tcid\n83505\t6\n79472\t5\n56241\t0\n26933\t16\n23581\t13\n19555\t17\n14873\t3\n14663\t11\n11132\t7\n10759\t10\n4814\t1\n4791\t4\n3371\t18\n1131\t12\n957\t9\n534\t2\n505\t19\n283\t14\n223\t8\n151\t15\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1540243001323_2116992762","id":"20161031-082621_1269056378","dateCreated":"2018-10-22T21:16:41+0000","dateStarted":"2018-10-29T17:05:12+0000","dateFinished":"2018-10-29T17:05:13+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69026"},{"title":"How many pickups occurred in the busiest 5 clusters ?","text":"%sql\nSELECT COUNT(cid), cid\nFROM uber\nWHERE cid IN (0,5,6,13,16)\nGROUP BY cid\nORDER BY COUNT(cid) DESC\n","user":"mapr","dateUpdated":"2018-10-30T16:14:09+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"count(cid)":"string","cid":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"cid","index":1,"aggr":"sum"}],"groups":[],"values":[{"name":"count(cid)","index":0,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/sql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"count(cid)\tcid\n83505\t6\n79472\t5\n56241\t0\n26933\t16\n23581\t13\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1540412263929_849215356","id":"20181024-201743_1546224078","dateCreated":"2018-10-24T20:17:43+0000","dateStarted":"2018-10-29T17:06:03+0000","dateFinished":"2018-10-29T17:06:04+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69027"},{"title":"How many pickups occurred in the busiest 5 clusters by hour?","text":"%sql\nSELECT hour(uber.dt) as hr,cid, count(cid) as ct FROM uber where cid IN (0,5,6,13,16) group By hour(uber.dt),cid","user":"mapr","dateUpdated":"2018-10-30T16:14:09+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"hr":"string","cid":"string","ct":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default","stacked":true}},"commonSetting":{},"keys":[{"name":"hr","index":0,"aggr":"sum"}],"groups":[{"name":"cid","index":1,"aggr":"sum"}],"values":[{"name":"ct","index":2,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/sql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"hr\tcid\tct\n23\t6\t4085\n9\t16\t1370\n1\t0\t940\n5\t16\t613\n18\t16\t1710\n22\t6\t5199\n0\t13\t604\n3\t13\t315\n11\t6\t3048\n14\t16\t1273\n9\t13\t1030\n19\t13\t1462\n6\t0\t1296\n23\t0\t2433\n10\t13\t904\n23\t16\t710\n4\t0\t679\n21\t16\t1206\n10\t16\t1237\n0\t5\t1283\n16\t16\t1672\n15\t5\t5648\n5\t6\t1323\n8\t13\t1009\n16\t0\t4042\n11\t16\t1222\n15\t6\t4933\n10\t5\t3227\n14\t13\t1155\n6\t5\t1746\n6\t13\t802\n10\t6\t2829\n3\t5\t658\n21\t5\t4823\n13\t5\t3807\n2\t5\t548\n21\t6\t5522\n0\t16\t430\n0\t0\t1351\n17\t6\t5410\n12\t5\t3412\n17\t13\t1424\n4\t13\t339\n5\t13\t553\n11\t5\t3222\n23\t5\t2417\n8\t5\t3012\n1\t16\t244\n22\t0\t3273\n14\t6\t3932\n18\t6\t5242\n20\t13\t1552\n7\t16\t1928\n14\t0\t2913\n18\t5\t5811\n4\t6\t1021\n20\t5\t5047\n21\t0\t3745\n12\t0\t2241\n21\t13\t1636\n19\t6\t5140\n11\t13\t931\n3\t6\t1037\n7\t5\t2824\n13\t6\t3529\n13\t16\t1344\n22\t16\t1100\n9\t5\t2973\n16\t6\t5207\n18\t0\t3780\n15\t13\t1148\n2\t0\t608\n11\t0\t2122\n19\t16\t1446\n20\t0\t3692\n13\t0\t2572\n7\t13\t1001\n18\t13\t1437\n5\t0\t835\n22\t13\t1443\n1\t5\t790\n23\t13\t1088\n20\t16\t1298\n8\t0\t1930\n9\t0\t1856\n0\t6\t2345\n12\t6\t3182\n1\t13\t359\n19\t5\t5631\n6\t16\t1138\n22\t5\t3720\n17\t5\t6489\n8\t6\t3723\n12\t13\t884\n6\t6\t2401\n3\t16\t278\n20\t6\t5171\n3\t0\t611\n12\t16\t1134\n9\t6\t2868\n10\t0\t1934\n1\t6\t1739\n14\t5\t4163\n19\t0\t4015\n13\t13\t991\n16\t5\t6449\n15\t16\t1591\n17\t16\t1712\n4\t16\t369\n17\t0\t4125\n4\t5\t700\n16\t13\t1249\n8\t16\t1732\n15\t0\t3523\n5\t5\t1072\n7\t0\t1725\n7\t6\t3422\n2\t13\t265\n2\t16\t176\n2\t6\t1197\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1540333315394_1936370997","id":"20181023-222155_618417118","dateCreated":"2018-10-23T22:21:55+0000","dateStarted":"2018-10-29T17:06:49+0000","dateFinished":"2018-10-29T17:06:50+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69028"},{"title":"Which hours of the day and which cluster had the highest number of pickups? ","text":"\nclusters.select(hour($\"dt\").alias(\"hour\"), $\"cid\").groupBy(\"hour\",\"cid\").agg(count(\"cid\").alias(\"count\")).orderBy(desc( \"count\")).show(10)\n","user":"mapr","dateUpdated":"2018-10-29T17:06:55+0000","config":{"tableHide":false,"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","title":true,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true,"fontSize":9,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+----+---+-----+\n|hour|cid|count|\n+----+---+-----+\n|  17|  5| 6489|\n|  16|  5| 6449|\n|  18|  5| 5811|\n|  15|  5| 5648|\n|  19|  5| 5631|\n|  21|  6| 5522|\n|  17|  6| 5410|\n|  18|  6| 5242|\n|  16|  6| 5207|\n|  22|  6| 5199|\n+----+---+-----+\nonly showing top 10 rows\n\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1540243001315_1800728035","id":"20161031-003546_1652957647","dateCreated":"2018-10-22T21:16:41+0000","dateStarted":"2018-10-29T17:06:55+0000","dateFinished":"2018-10-29T17:06:57+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69029"},{"title":"Which hours of the day had the most pickups? ","text":"%sql\nSELECT hour(uber.dt) as hr,count(cid) as ct FROM uber group By hour(uber.dt)","user":"mapr","dateUpdated":"2018-10-30T16:14:09+0000","config":{"colWidth":12,"editorMode":"ace/mode/sql","results":[{"helium":{},"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"keys":[{"name":"hr","index":0,"aggr":"sum"}],"values":[{"name":"ct","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"hr","index":0,"aggr":"sum"},"yAxis":{"name":"ct","index":1,"aggr":"sum"}},"setting":{"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{}}}],"enabled":true,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"fontSize":9,"editorHide":false,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"hr\tct\n12\t14501\n22\t19972\n1\t5543\n13\t16173\n16\t23315\n6\t10277\n3\t4054\n20\t22193\n5\t6753\n19\t23015\n15\t21621\n9\t13765\n17\t24130\n4\t4741\n8\t14833\n23\t14653\n7\t14262\n10\t13786\n21\t22681\n11\t14146\n14\t17928\n2\t3895\n0\t8212\n18\t23025\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs","http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1540243001319_-1636412954","id":"20161031-005940_1796057341","dateCreated":"2018-10-22T21:16:41+0000","dateStarted":"2018-10-29T17:07:00+0000","dateFinished":"2018-10-29T17:07:01+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69030"},{"title":"Which clusters had the highest number of pickups during morning rush hour? ","text":"%sql \nSELECT hour(uber.dt) as hr, cid, count(cid) as ct FROM uber WHERE cid IN (0,5,6,13,16) and hour(uber.dt) IN (6,7,8,9) group By hour(uber.dt), cid order by hr, cid","user":"mapr","dateUpdated":"2018-10-30T16:14:09+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"hr":"string","cid":"string","ct":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"hr","index":0,"aggr":"sum"}],"groups":[{"name":"cid","index":1,"aggr":"sum"}],"values":[{"name":"ct","index":2,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/sql","editorHide":false,"title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"hr\tcid\tct\n6\t0\t1296\n6\t5\t1746\n6\t6\t2401\n6\t13\t802\n6\t16\t1138\n7\t0\t1725\n7\t5\t2824\n7\t6\t3422\n7\t13\t1001\n7\t16\t1928\n8\t0\t1930\n8\t5\t3012\n8\t6\t3723\n8\t13\t1009\n8\t16\t1732\n9\t0\t1856\n9\t5\t2973\n9\t6\t2868\n9\t13\t1030\n9\t16\t1370\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1540333229782_-1789617854","id":"20181023-222029_807399631","dateCreated":"2018-10-23T22:20:29+0000","dateStarted":"2018-10-29T17:07:11+0000","dateFinished":"2018-10-29T17:07:12+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69031"},{"title":"Which clusters had the highest number of pickups during evening rush hour? ","text":"%sql SELECT hour(uber.dt) as hr, cid, count(cid) as ct FROM uber WHERE cid IN (0,5,6,13,16) and hour(uber.dt) IN (16,17,18,19) group By hour(uber.dt), cid order by hr, cid","user":"mapr","dateUpdated":"2018-10-30T16:14:10+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{"0":{"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"hr":"string","cid":"string","ct":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[{"name":"hr","index":0,"aggr":"sum"}],"groups":[{"name":"cid","index":1,"aggr":"sum"}],"values":[{"name":"ct","index":2,"aggr":"sum"}]},"helium":{}}},"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"editorMode":"ace/mode/sql","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"hr\tcid\tct\n16\t0\t4042\n16\t5\t6449\n16\t6\t5207\n16\t13\t1249\n16\t16\t1672\n17\t0\t4125\n17\t5\t6489\n17\t6\t5410\n17\t13\t1424\n17\t16\t1712\n18\t0\t3780\n18\t5\t5811\n18\t6\t5242\n18\t13\t1437\n18\t16\t1710\n19\t0\t4015\n19\t5\t5631\n19\t6\t5140\n19\t13\t1462\n19\t16\t1446\n"}]},"runtimeInfos":{"jobUrl":{"propertyName":"jobUrl","label":"SPARK JOB","tooltip":"View in Spark web UI","group":"spark","values":["http://mapr-resman:8088/proxy/application_1540577802860_0020//jobs"],"interpreterSettingId":"spark"}},"apps":[],"jobName":"paragraph_1540417689070_1811337117","id":"20181024-214809_1640644899","dateCreated":"2018-10-24T21:48:09+0000","dateStarted":"2018-10-29T17:07:22+0000","dateFinished":"2018-10-29T17:07:23+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69032"},{"text":"\n model.write.overwrite().save(\"/user/mapr/ubermodel\")","user":"mapr","dateUpdated":"2018-10-23T22:21:08+0000","config":{"colWidth":12,"editorMode":"ace/mode/scala","results":[],"enabled":true,"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"fontSize":9,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<hr/>Spark Application Id: application_1540226831560_0009<br/>Spark WebUI: <a href=\"http://mapr-resman:8088/proxy/application_1540226831560_0009/\">http://mapr-resman:8088/proxy/application_1540226831560_0009/</a>"}]},"apps":[],"jobName":"paragraph_1540243001325_-1509429757","id":"20161116-075433_1562509402","dateCreated":"2018-10-22T21:16:41+0000","dateStarted":"2018-10-23T22:21:08+0000","dateFinished":"2018-10-23T22:21:10+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:69033"},{"text":"","user":"mapr","dateUpdated":"2018-10-23T21:28:33+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","results":{},"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"fontSize":9,"editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1540243001327_814079528","id":"20161213-063243_842303880","dateCreated":"2018-10-22T21:16:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:69034"}],"name":"/cmcdonald/SparkUberML","id":"2DVQFACHQ","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"angular:shared_process":[],"sh:shared_process":[],"spark:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}